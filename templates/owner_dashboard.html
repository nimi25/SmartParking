<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Owner Dashboard</title>
  <!-- Leaflet (for maps) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>

  <style>
    /* -------------------------------------
       RESET / BASE STYLES
    ------------------------------------- */
    html, body {
      margin: 10px;
      padding: 0;
    }
    body {
      font-family: 'Poppins', sans-serif;
      /* Use your specified background image & slight gradient */
      background: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)),
                  url("../static/images/bengaluru_map.jpg") no-repeat center center fixed;
      background-size: cover;
      overflow-y: auto;
      min-height: 100vh;
    }

    /* -------------------------------------
       TOP BUTTONS (Owner Dashboard)
    ------------------------------------- */
    #topButtons {
      position: fixed;
      top: 20px;
      left: 20px;
      display: flex;
      gap: 10px;
      z-index: 1100;
    }
    /* Make the Owner Dashboard button bigger & more standout */
    #ownerDashboardBtn {
      background: linear-gradient(45deg, #ff416c, #ff4b2b);
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 18px;          /* increased font size */
      padding: 12px 24px;       /* increased padding */
      box-shadow: 0 6px 12px rgba(255, 65, 108, 0.4);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    #ownerDashboardBtn:hover {
      transform: scale(1.06);
      box-shadow: 0 8px 15px rgba(255, 65, 108, 0.6);
    }

    /* -------------------------------------
       PROFILE ICON (TOP-RIGHT CORNER)
    ------------------------------------- */
    #topRightContainer {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1100;
      display: flex;
      gap: 10px;
      align-items: center;
    }
    #profileIconBtn {
      background: #fff;         
      color: #333;              
      border: 2px solid #333;   
      border-radius: 50%;
      padding: 10px;
      cursor: pointer;
      font-size: 22px;
      width: 50px;
      height: 50px;
      text-align: center;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    }
    #profileIconBtn:hover {
      transform: scale(1.05);
    }

    /* -------------------------------------
       SIDEBAR (OWNER DASHBOARD PANEL)
       Using a lighter gradient for better contrast
    ------------------------------------- */
    #ownerDashboardPanel {
      position: fixed;
      top: 0;
      left: 0;
      width: 250px;
      height: 100vh;
      background: linear-gradient(180deg, rgba(50,50,50,0.9), rgba(80,80,80,0.9));
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      border-right: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 10px 0 40px rgba(0, 0, 0, 0.3);
      transform: translateX(-260px);
      transition: transform 0.4s ease;
      z-index: 1200;
      color: #fff;
      display: flex;
      flex-direction: column;
      padding: 20px;
    }
    #ownerDashboardPanel.open {
      transform: translateX(0);
    }
    #ownerDashboardPanel h2 {
      margin-top: 0;
      font-size: 1.5em;
    }
    #ownerDashboardPanel ul {
      list-style: none;
      padding: 0;
      margin-top: 20px;
    }
    #ownerDashboardPanel ul li {
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    #ownerDashboardPanel ul li a {
      color: #fff;
      text-decoration: none;
      display: block;
      padding: 5px 0;
      flex: 1;
      font-size: 22px;
    }
    #ownerDashboardPanel ul li a:hover {
      text-decoration: underline;
    }
    .sidebar-icon {
      font-size: 18px;
    }
    #closePanelBtn {
      margin-top: auto;
      background: linear-gradient(45deg, #ff416c, #ff4b2b);
      color: #fff;
      border: none;
      border-radius: 5px;
      padding: 8px 16px;
      cursor: pointer;
      font-size: 14px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      transition: transform 0.2s ease;
      margin-bottom: 20px;
    }
    #closePanelBtn:hover {
      transform: scale(1.05);
    }

    /* -------------------------------------
       MAKE "WELCOME, OWNER!" A LITTLE BIGGER
    ------------------------------------- */
    #ownerGreeting {
      font-size: 2rem; /* increased from default ~1.5rem to 2rem (~32px) */
      margin-bottom: 20px;
      font-weight: 600;
      color: #fff;
    }

    /* -------------------------------------
       OVERLAYS (Profile, Bookings, Payment, etc.)
       (unchanged)
    ------------------------------------- */
    #profileOverlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.7);
      backdrop-filter: blur(5px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1300;
    }
    #profileOverlay.open {
      display: flex;
    }
    #profileContent {
      background: rgba(0, 0, 0, 0.85);
      color: #fff;
      border-radius: 10px;
      padding: 20px;
      width: 320px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.5);
    }
    #profileContent h2 {
      margin-top: 0;
      margin-bottom: 15px;
      text-align: center;
    }
    #profileContent label {
      display: block;
      margin: 10px 0 5px;
    }
    #profileContent input[type="text"],
    #profileContent input[type="email"],
    #profileContent input[type="file"] {
      width: 100%;
      padding: 6px;
      border: 1px solid #555;
      border-radius: 4px;
      background: #333;
      color: #fff;
    }
    #profileContent input::placeholder {
      color: #ccc;
    }
    #profileContent .btn {
      margin-top: 15px;
      display: inline-block;
      background: linear-gradient(45deg, #ff416c, #ff4b2b);
      color: #fff;
      border: none;
      border-radius: 5px;
      padding: 8px 16px;
      cursor: pointer;
      font-size: 14px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      transition: transform 0.2s ease;
    }
    #profileContent .btn:hover {
      transform: scale(1.05);
    }
    #profileButtons {
      display: flex;
      justify-content: space-between;
    }

    #bookingsOverlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.7);
      backdrop-filter: blur(5px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1400;
    }
    #bookingsOverlay.open {
      display: flex;
    }
    #bookingsContent {
      background: rgba(0, 0, 0, 0.85);
      color: #fff;
      border-radius: 10px;
      padding: 20px;
      width: 400px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.5);
    }
    #bookingsContent h2 {
      margin-top: 0;
      margin-bottom: 15px;
      text-align: center;
    }
    #bookingSearch {
      width: 100%;
      padding: 6px;
      margin-bottom: 15px;
      border: 1px solid #555;
      border-radius: 4px;
      background: #333;
      color: #fff;
    }
    .booking-item {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 5px;
      margin-bottom: 15px;
      padding: 10px;
      font-size: 14px;
    }
    .booking-item p {
      margin: 5px 0;
    }
    .approve-btn {
      display: inline-block;
      background: linear-gradient(45deg, #00b09b, #96c93d);
      color: #fff;
      border: none;
      border-radius: 5px;
      padding: 6px 12px;
      cursor: pointer;
      font-size: 14px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      transition: transform 0.2s ease;
      margin-top: 5px;
    }
    .approve-btn:hover {
      transform: scale(1.05);
    }
    #closeBookingsBtn {
      margin-top: 20px;
      background: linear-gradient(45deg, #ff416c, #ff4b2b);
      color: #fff;
      border: none;
      border-radius: 5px;
      padding: 8px 16px;
      cursor: pointer;
      font-size: 14px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      transition: transform 0.2s ease;
    }
    #closeBookingsBtn:hover {
      transform: scale(1.05);
    }

    #paymentOverlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.7);
      backdrop-filter: blur(5px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1450;
    }
    #paymentOverlay.open {
      display: flex;
    }
    #paymentContent {
      background: rgba(0, 0, 0, 0.85);
      color: #fff;
      border-radius: 10px;
      padding: 20px;
      width: 320px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.5);
    }
    #paymentContent h2 {
      margin-top: 0;
      margin-bottom: 15px;
      text-align: center;
    }
    #paymentContent label {
      display: block;
      margin: 10px 0 5px;
    }
    #paymentContent input[type="text"],
    #paymentContent input[type="file"] {
      width: 100%;
      padding: 6px;
      border: 1px solid #555;
      border-radius: 4px;
      background: #333;
      color: #fff;
    }
    #paymentContent input::placeholder {
      color: #ccc;
    }
    #paymentButtons {
      display: flex;
      justify-content: space-between;
      margin-top: 15px;
    }
    #paymentContent .btn {
      background: linear-gradient(45deg, #ff416c, #ff4b2b);
      color: #fff;
      border: none;
      border-radius: 5px;
      padding: 8px 16px;
      cursor: pointer;
      font-size: 14px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
      transition: transform 0.2s ease;
    }
    #paymentContent .btn:hover {
      transform: scale(1.05);
    }

    #metricsOverlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.7);
      backdrop-filter: blur(5px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1460;
    }
    #metricsOverlay.open {
      display: flex;
    }
    #metricsContent {
      background: rgba(0, 0, 0, 0.85);
      color: #fff;
      border-radius: 10px;
      padding: 20px;
      width: 320px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.5);
      text-align: center;
    }
    #metricsContent h2 {
      margin-top: 0;
      margin-bottom: 15px;
    }
    .metric-row {
      margin-bottom: 10px;
      font-size: 16px;
    }
    #closeMetricsBtn {
      margin-top: 15px;
      background: linear-gradient(45deg, #ff416c, #ff4b2b);
      color: #fff;
      border: none;
      border-radius: 5px;
      padding: 8px 16px;
      cursor: pointer;
      font-size: 14px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      transition: transform 0.2s ease;
    }
    #closeMetricsBtn:hover {
      transform: scale(1.05);
    }

    #historyOverlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.7);
      backdrop-filter: blur(5px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1470;
    }
    #historyOverlay.open {
      display: flex;
    }
    #historyContent {
      background: rgba(0, 0, 0, 0.85);
      color: #fff;
      border-radius: 10px;
      padding: 20px;
      width: 400px;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: 0 4px 20px rgba(0,0,0,0.5);
    }
    #historyContent h2 {
      margin-top: 0;
      margin-bottom: 15px;
      text-align: center;
    }
    .history-item {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 5px;
      margin-bottom: 15px;
      padding: 10px;
      font-size: 14px;
    }
    .history-item p {
      margin: 5px 0;
    }
    #closeHistoryBtn {
      margin-top: 15px;
      background: linear-gradient(45deg, #ff416c, #ff4b2b);
      color: #fff;
      border: none;
      border-radius: 5px;
      padding: 8px 16px;
      cursor: pointer;
      font-size: 14px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      transition: transform 0.2s ease;
    }
    #closeHistoryBtn:hover {
      transform: scale(1.05);
    }

    /* -------------------------------------
       MAIN CONTENT CONTAINER
    ------------------------------------- */
    .container {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 20px;
      padding: 50px;
      max-width: 900px;
      width: 100%;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
      color: #fff;
      text-align: center;
      position: relative;
      margin: 20px auto;
      margin-top: 120px;
    }

    /* Make "Welcome, Owner!" a bit bigger */
    #ownerGreeting {
      font-size: 2rem; /* ~32px */
      margin-bottom: 20px;
      font-weight: 600;
      color: #fff;
    }

    /* -------------------------------------
       PARKING SPOT CARDS
    ------------------------------------- */
    .card-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-top: 20px;
    }
    .card {
      flex: 1 1 calc(33.33% - 20px);
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(15px);
      -webkit-backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 20px;
      padding: 20px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
      color: #fff;
      text-align: left;
    }
    .card h3 {
      margin-top: 0;
    }
    .card p {
      margin: 8px 0;
    }
    .card-actions {
      display: flex;
      gap: 10px;
      margin-top: 10px;
    }
    .card-actions .btn {
      flex: 1;
      text-align: center;
      padding: 10px;
      border: none;
      border-radius: 5px;
      color: white;
      background: linear-gradient(45deg, #ff416c, #ff4b2b);
      cursor: pointer;
      transition: all 0.3s ease-in-out;
      box-shadow: 0 4px 10px rgba(255, 65, 108, 0.2);
      text-decoration: none;
      display: inline-block;
    }
    .card-actions .btn:hover {
      background: linear-gradient(45deg, #ff4b2b, #ff416c);
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(255, 65, 108, 0.4);
    }

    /* -------------------------------------
       GENERAL BUTTON STYLES
    ------------------------------------- */
    a.btn, button.btn {
      display: inline-block;
      color: #fff;
      background: linear-gradient(45deg, #ff416c, #ff4b2b);
      padding: 8px 16px;
      border-radius: 5px;
      text-decoration: none;
      border: none;
      cursor: pointer;
      font-size: 14px;
      text-transform: none;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      transition: transform 0.2s ease;
    }
    a.btn:hover, button.btn:hover {
      transform: scale(1.05);
    }
  </style>
</head>
<body>

  <!-- TOP BUTTONS (Owner Dashboard) -->
  <div id="topButtons">
    <button id="ownerDashboardBtn">Owner Dashboard</button>
  </div>

  <!-- TOP-RIGHT CONTAINER (Only Profile Icon Now) -->
  <div id="topRightContainer">
    <button id="profileIconBtn">&#128100;</button>
  </div>

  <!-- MAIN CONTENT -->
  <div class="container">
    <!-- Make "Welcome, Owner!" a bit bigger -->
    <h2 id="ownerGreeting">Welcome, Owner!</h2>

    <a href="#" class="btn">Add a Parking Spot</a>
    <h3>Your Parking Spots</h3>
    <div class="card-container">
      <!-- Sample Card 1 -->
      <div class="card">
        <h3>Main Street Parking</h3>
        <p><strong>Price:</strong> ₹200</p>
        <p><strong>Status:</strong> Available</p>
        <p><strong>Available Hours:</strong> 08:00 AM to 10:00 PM</p>
        <div class="map-container" id="map-1" style="height: 200px;"></div>
        <p><strong>2-Wheeler Spaces:</strong> 10</p>
        <p><strong>4-Wheeler Spaces:</strong> 5</p>
        <p><strong>Description:</strong> Covered parking near downtown.</p>
        <div class="card-actions">
          <a href="#" class="btn">Edit</a>
          <button class="btn" onclick="alert('Spot deleted!')">Delete</button>
        </div>
      </div>
      <!-- Sample Card 2 -->
      <div class="card">
        <h3>City Center Lot</h3>
        <p><strong>Price:</strong> ₹300</p>
        <p><strong>Status:</strong> Not Available</p>
        <p><strong>Available Hours:</strong> 07:00 AM to 09:00 PM</p>
        <div class="map-container" id="map-2" style="height: 200px;"></div>
        <p><strong>2-Wheeler Spaces:</strong> 8</p>
        <p><strong>4-Wheeler Spaces:</strong> 4</p>
        <p><strong>Description:</strong> Open-air lot at the center of the city.</p>
        <div class="card-actions">
          <a href="#" class="btn">Edit</a>
          <button class="btn" onclick="alert('Spot deleted!')">Delete</button>
        </div>
      </div>
    </div>
    <br><br>
    <button onclick="alert('Logged out!')" class="btn">Logout</button>
  </div>

  <!-- SIDEBAR for Owner Dashboard with icons -->
  <div id="ownerDashboardPanel">
    <h2>Owner Dashboard</h2>
    <ul>
      <li><span class="sidebar-icon">&#128197;</span><a href="#" id="bookingsLink">Bookings</a></li>
      <li><span class="sidebar-icon">&#128179;</span><a href="#" id="paymentLink">Payment</a></li>
      <li><span class="sidebar-icon">&#128202;</span><a href="#" id="metricsLink">Metrics</a></li>
      <li><span class="sidebar-icon">&#128221;</span><a href="#" id="historyLink">History</a></li>
    </ul>
    <button id="closePanelBtn">Close</button>
  </div>

  <!-- PROFILE OVERLAY -->
  <div id="profileOverlay">
    <div id="profileContent">
      <h2>Edit Profile</h2>
      <label for="profilePhoto">Profile Photo</label>
      <input type="file" id="profilePhoto" />
      <label for="profileName">Name</label>
      <input type="text" id="profileName" placeholder="Your Name" />
      <label for="profileEmail">Email</label>
      <input type="email" id="profileEmail" placeholder="Your Email" />
      <div id="profileButtons">
        <button class="btn" id="saveProfileBtn">Save</button>
        <button class="btn" id="closeProfileBtn">Close</button>
      </div>
    </div>
  </div>

  <!-- BOOKINGS OVERLAY -->
  <div id="bookingsOverlay">
    <div id="bookingsContent">
      <h2>Bookings</h2>
      <input type="text" id="bookingSearch" placeholder="Search by Booking ID or Vehicle Number" />
      <div class="booking-item">
        <p><strong>Booking ID:</strong> BK001</p>
        <p><strong>Vehicle Number:</strong> ABC123</p>
        <p><strong>Driver:</strong> John Doe</p>
        <p><strong>Spot:</strong> Main Street Parking</p>
        <p><strong>Status:</strong> Pending</p>
        <button class="approve-btn" onclick="alert('Booking approved! Now driver sees Approved.')">Approve</button>
      </div>
      <div class="booking-item">
        <p><strong>Booking ID:</strong> BK002</p>
        <p><strong>Vehicle Number:</strong> XYZ789</p>
        <p><strong>Driver:</strong> Jane Smith</p>
        <p><strong>Spot:</strong> City Center Lot</p>
        <p><strong>Status:</strong> Pending</p>
        <button class="approve-btn" onclick="alert('Booking approved! Now driver sees Approved.')">Approve</button>
      </div>
      <button id="closeBookingsBtn">Close</button>
    </div>
  </div>

  <!-- PAYMENT OVERLAY -->
  <div id="paymentOverlay">
    <div id="paymentContent">
      <h2>Payment Settings</h2>
      <label for="upiInput">UPI ID</label>
      <input type="text" id="upiInput" placeholder="Enter UPI ID" />
      <label for="phoneInput">Phone Number</label>
      <input type="text" id="phoneInput" placeholder="Enter phone number" />
      <label for="scannerInput">Scanner (Upload File)</label>
      <input type="file" id="scannerInput" />
      <div id="paymentButtons">
        <button class="btn" id="savePaymentBtn">Save</button>
        <button class="btn" id="closePaymentBtn">Close</button>
      </div>
    </div>
  </div>

  <!-- METRICS OVERLAY -->
  <div id="metricsOverlay">
    <div id="metricsContent">
      <h2>Metrics</h2>
      <div class="metric-row">Current Bookings: 5</div>
      <div class="metric-row">Total Revenue: ₹2500</div>
      <div class="metric-row">Available Spots: 2</div>
      <button id="closeMetricsBtn">Close</button>
    </div>
  </div>

  <!-- HISTORY OVERLAY -->
  <div id="historyOverlay">
    <div id="historyContent">
      <h2>Completed Bookings</h2>
      <div class="history-item">
        <p><strong>Booking ID:</strong> BK0001</p>
        <p><strong>Vehicle Number:</strong> LMN456</p>
        <p><strong>Driver:</strong> Alice Brown</p>
        <p><strong>Spot:</strong> Main Street Parking</p>
        <p><strong>Status:</strong> Completed</p>
      </div>
      <div class="history-item">
        <p><strong>Booking ID:</strong> BK0002</p>
        <p><strong>Vehicle Number:</strong> QRS678</p>
        <p><strong>Driver:</strong> Bob Green</p>
        <p><strong>Spot:</strong> City Center Lot</p>
        <p><strong>Status:</strong> Completed</p>
      </div>
      <button id="closeHistoryBtn">Close</button>
    </div>
  </div>

  <!-- JavaScript -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize Leaflet maps
      var map1 = L.map('map-1').setView([12.9716, 77.5946], 15);
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '© OpenStreetMap contributors'
      }).addTo(map1);
      L.marker([12.9716, 77.5946]).addTo(map1);

      var map2 = L.map('map-2').setView([12.9352, 77.6245], 15);
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '© OpenStreetMap contributors'
      }).addTo(map2);
      L.marker([12.9352, 77.6245]).addTo(map2);

      // Owner Dashboard side panel
      var ownerDashboardBtn = document.getElementById('ownerDashboardBtn');
      var ownerDashboardPanel = document.getElementById('ownerDashboardPanel');
      var closePanelBtn = document.getElementById('closePanelBtn');

      ownerDashboardBtn.addEventListener('click', function() {
        ownerDashboardPanel.classList.add('open');
      });
      closePanelBtn.addEventListener('click', function() {
        ownerDashboardPanel.classList.remove('open');
      });

      // Profile icon overlay
      var profileIconBtn = document.getElementById('profileIconBtn');
      var profileOverlay = document.getElementById('profileOverlay');
      var closeProfileBtn = document.getElementById('closeProfileBtn');
      var saveProfileBtn = document.getElementById('saveProfileBtn');

      profileIconBtn.addEventListener('click', function() {
        profileOverlay.classList.add('open');
      });
      closeProfileBtn.addEventListener('click', function() {
        profileOverlay.classList.remove('open');
      });
      saveProfileBtn.addEventListener('click', function() {
        alert('Profile changes saved!');
        profileOverlay.classList.remove('open');
      });

      // Bookings overlay and search filtering
      var bookingsLink = document.getElementById('bookingsLink');
      var bookingsOverlay = document.getElementById('bookingsOverlay');
      var closeBookingsBtn = document.getElementById('closeBookingsBtn');
      var bookingSearch = document.getElementById('bookingSearch');

      bookingsLink.addEventListener('click', function(e) {
        e.preventDefault();
        ownerDashboardPanel.classList.remove('open');
        bookingsOverlay.classList.add('open');
      });
      closeBookingsBtn.addEventListener('click', function() {
        bookingsOverlay.classList.remove('open');
      });

      bookingSearch.addEventListener('input', function() {
        var filter = bookingSearch.value.toUpperCase();
        var items = document.querySelectorAll('.booking-item');
        items.forEach(function(item) {
          var text = item.textContent || item.innerText;
          item.style.display = (text.toUpperCase().indexOf(filter) > -1) ? "" : "none";
        });
      });

      // Payment overlay
      var paymentLink = document.getElementById('paymentLink');
      var paymentOverlay = document.getElementById('paymentOverlay');
      var closePaymentBtn = document.getElementById('closePaymentBtn');
      var savePaymentBtn = document.getElementById('savePaymentBtn');

      paymentLink.addEventListener('click', function(e) {
        e.preventDefault();
        ownerDashboardPanel.classList.remove('open');
        paymentOverlay.classList.add('open');
      });
      closePaymentBtn.addEventListener('click', function() {
        paymentOverlay.classList.remove('open');
      });
      savePaymentBtn.addEventListener('click', function() {
        alert('Payment settings saved! Will reflect on driver side.');
        paymentOverlay.classList.remove('open');
      });

      // Metrics overlay
      var metricsLink = document.getElementById('metricsLink');
      var metricsOverlay = document.getElementById('metricsOverlay');
      var closeMetricsBtn = document.getElementById('closeMetricsBtn');

      metricsLink.addEventListener('click', function(e) {
        e.preventDefault();
        ownerDashboardPanel.classList.remove('open');
        metricsOverlay.classList.add('open');
      });
      closeMetricsBtn.addEventListener('click', function() {
        metricsOverlay.classList.remove('open');
      });

      // History overlay
      var historyLink = document.getElementById('historyLink');
      var historyOverlay = document.getElementById('historyOverlay');
      var closeHistoryBtn = document.getElementById('closeHistoryBtn');

      historyLink.addEventListener('click', function(e) {
        e.preventDefault();
        ownerDashboardPanel.classList.remove('open');
        historyOverlay.classList.add('open');
      });
      closeHistoryBtn.addEventListener('click', function() {
        historyOverlay.classList.remove('open');
      });
    });
  </script>
</body>
</html>
